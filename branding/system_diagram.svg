<svg width="900" height="580" viewBox="0 0 900 580" xmlns="http://www.w3.org/2000/svg" font-family="Segoe UI, Arial, sans-serif">

  <!-- ══════════════════════════════════════════════ -->
  <!--  Raj Enterprices – UF System Process Diagram   -->
  <!--  Styled to match dark industrial app theme     -->
  <!-- ══════════════════════════════════════════════ -->

  <defs>
    <!-- Dark Pipe gradient (lit top, dark bottom) -->
    <linearGradient id="pipeV" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%"   stop-color="#0d2540"/>
      <stop offset="35%"  stop-color="#00d2ff" stop-opacity="0.7"/>
      <stop offset="65%"  stop-color="#00d2ff" stop-opacity="0.7"/>
      <stop offset="100%" stop-color="#0d2540"/>
    </linearGradient>
    <linearGradient id="pipeH" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%"   stop-color="#0d2540"/>
      <stop offset="35%"  stop-color="#00d2ff" stop-opacity="0.7"/>
      <stop offset="65%"  stop-color="#00d2ff" stop-opacity="0.7"/>
      <stop offset="100%" stop-color="#0d2540"/>
    </linearGradient>
    <!-- UF Vessel gradient -->
    <linearGradient id="ufVesselGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%"   stop-color="#0d2137"/>
      <stop offset="30%"  stop-color="#1e3a5f"/>
      <stop offset="60%"  stop-color="#1a6090"/>
      <stop offset="80%"  stop-color="#1e3a5f"/>
      <stop offset="100%" stop-color="#0d2137"/>
    </linearGradient>
    <!-- Tank gradient -->
    <linearGradient id="tankGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%"   stop-color="#0d2137"/>
      <stop offset="40%"  stop-color="#1e3a5f"/>
      <stop offset="70%"  stop-color="#1a4d6e"/>
      <stop offset="100%" stop-color="#0d2137"/>
    </linearGradient>
    <!-- Pump motor gradient -->
    <linearGradient id="pumpGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%"   stop-color="#0d1f35"/>
      <stop offset="50%"  stop-color="#1e3a5f"/>
      <stop offset="100%" stop-color="#0d1f35"/>
    </linearGradient>
    <!-- Glow filter for active pipes -->
    <filter id="glow" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- Drop shadow filter -->
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="130%">
      <feDropShadow dx="0" dy="3" stdDeviation="4" flood-color="#000000" flood-opacity="0.6"/>
    </filter>
    <!-- Clip for tank body -->
    <clipPath id="tankClip">
      <rect x="0" y="0" width="120" height="75"/>
    </clipPath>
  </defs>

  <!-- Background -->
  <rect width="900" height="580" fill="#0f0f1a" rx="16"/>
  <!-- Subtle inner border -->
  <rect x="4" y="4" width="892" height="572" fill="none" stroke="#2a2a4a" stroke-width="1.5" rx="14"/>

  <!-- ╔══════════════╗ -->
  <!-- ║  LOGO AREA   ║ -->
  <!-- ╚══════════════╝ -->
  <!-- Company logo mark: water-drop style -->
  <g transform="translate(42, 28)">
    <!-- Drop shape -->
    <path d="M 22 0 C 22 0 0 18 0 30 C 0 41 10 50 22 50 C 34 50 44 41 44 30 C 44 18 22 0 22 0 Z"
          fill="none" stroke="#00d2ff" stroke-width="2.5" opacity="0.9"/>
    <!-- Inner wave detail -->
    <path d="M 8 34 Q 22 24 36 34" fill="none" stroke="#00d2ff" stroke-width="2" opacity="0.6"/>
    <!-- Accent dot -->
    <circle cx="22" cy="20" r="3" fill="#00d2ff" opacity="0.8"/>
  </g>
  <!-- Company Name -->
  <text x="100" y="44" font-size="22" font-weight="bold" fill="#e8e8f0" letter-spacing="1">Raj Enterprices</text>
  <text x="100" y="64" font-size="12" fill="#00d2ff" letter-spacing="2">ULTRAFILTRATION SYSTEM</text>
  <!-- Divider line under header -->
  <line x1="42" y1="82" x2="858" y2="82" stroke="#2a2a4a" stroke-width="1"/>

  <!-- ╔═══════════════════════════════════╗ -->
  <!-- ║  P I P I N G  (drawn first)       ║ -->
  <!-- ╚═══════════════════════════════════╝ -->

  <!-- All pipe widths: ~10px for mains, elbow joints are rounded squares -->

  <!-- ── MAIN HORIZONTAL RUN (bottom feed line, y=450) ─────────── -->
  <!-- PP1 → V1 → UF bottom -->
  <rect x="95"  y="444" width="260" height="12" fill="url(#pipeH)" rx="4"/> <!-- PP1 to V1 area -->
  <!-- UF bottom → V3 → V4 bifurcation -->
  <rect x="490" y="444" width="258" height="12" fill="url(#pipeH)" rx="4"/>

  <!-- ── VERTICAL LEG: split up from ~x=220 to top manifold (y=180) ─── -->
  <!-- This is the V2 leg feeding UF top -->
  <rect x="211" y="182" width="12" height="274" fill="url(#pipeV)" rx="4"/>

  <!-- ── TOP HORIZONTAL MANIFOLD (y=182) ────────────────────────── -->
  <!-- Left arm to UF top + right arm to V5 / Storage -->
  <rect x="211" y="176" width="392" height="12" fill="url(#pipeH)" rx="4"/>

  <!-- ── VERTICAL LEG: right side down from top manifold (x=603) to V5 area ── -->
  <rect x="597" y="176" width="12" height="112" fill="url(#pipeV)" rx="4"/>

  <!-- ── V5 to UF Storage Tank (horizontal, y=282) ─────────────── -->
  <rect x="597" y="276" width="170" height="12" fill="url(#pipeH)" rx="4"/>

  <!-- ── PP2 vertical from Storage Tank down to V4-level (x=760) ── -->
  <rect x="754" y="288" width="12" height="168" fill="url(#pipeV)" rx="4"/>

  <!-- ── V4 connection: x=660 vertical up to Top manifold level ── -->
  <rect x="654" y="176" width="12" height="280" fill="url(#pipeV)" rx="4"/>

  <!-- ── Junction dots at pipe T-intersections ──────────────────── -->
  <circle cx="217" cy="182" r="7" fill="#00d2ff" filter="url(#glow)"/>
  <circle cx="603" cy="182" r="7" fill="#00d2ff" filter="url(#glow)"/>
  <circle cx="660" cy="188" r="7" fill="#00d2ff" filter="url(#glow)"/>
  <circle cx="217" cy="450" r="7" fill="#00d2ff" filter="url(#glow)"/>
  <circle cx="660" cy="450" r="7" fill="#00d2ff" filter="url(#glow)"/>

  <!-- Drain vertical drop from V3 (x=590, y=450 down) -->
  <rect x="584" y="450" width="12" height="70" fill="url(#pipeV)" rx="4"/>

  <!-- ╔══════════════════════╗ -->
  <!-- ║   UF VESSEL (center) ║ -->
  <!-- ╚══════════════════════╝ -->
  <g transform="translate(350, 170)" filter="url(#shadow)">
    <!-- Top port stub -->
    <rect x="57" y="-26" width="22" height="30" fill="url(#ufVesselGrad)" stroke="#2a5a9a" stroke-width="1.5"/>
    <ellipse cx="68" cy="-26" rx="11" ry="5" fill="#1e3a5f" stroke="#2a5a9a" stroke-width="1.5"/>
    <!-- Main vessel body -->
    <rect x="20" y="0" width="96" height="270" fill="url(#ufVesselGrad)" stroke="#1e3a5f" stroke-width="2" rx="8"/>
    <!-- Highlight stripe -->
    <rect x="50" y="0" width="22" height="270" fill="#ffffff" opacity="0.04" rx="4"/>
    <!-- Top cap (ellipse) -->
    <ellipse cx="68" cy="0"   rx="48" ry="14" fill="#1e3a5f" stroke="#2a5a9a" stroke-width="2"/>
    <!-- Bottom cap -->
    <ellipse cx="68" cy="270" rx="48" ry="14" fill="#0d2137" stroke="#2a5a9a" stroke-width="2"/>
    <!-- Bottom port stub -->
    <rect x="57" y="270" width="22" height="26" fill="url(#ufVesselGrad)" stroke="#2a5a9a" stroke-width="1.5"/>
    <ellipse cx="68" cy="296" rx="11" ry="5" fill="#0d2137" stroke="#2a5a9a" stroke-width="1.5"/>
    <!-- Rivets decoration -->
    <circle cx="30" cy="40"  r="3" fill="#2a5a9a"/>
    <circle cx="30" cy="230" r="3" fill="#2a5a9a"/>
    <circle cx="106" cy="40"  r="3" fill="#2a5a9a"/>
    <circle cx="106" cy="230" r="3" fill="#2a5a9a"/>
    <!-- Label -->
    <text x="68" y="142" text-anchor="middle" font-size="26" font-weight="bold" fill="#00d2ff" letter-spacing="2">UF</text>
    <text x="68" y="162" text-anchor="middle" font-size="11" fill="#7f8c9b" letter-spacing="1">MEMBRANE</text>
  </g>

  <!-- ╔══════════════════════╗ -->
  <!-- ║   TANKS              ║ -->
  <!-- ╚══════════════════════╝ -->

  <!-- DMF STORAGE (bottom-left) -->
  <g transform="translate(62, 470)" filter="url(#shadow)">
    <rect x="0"  y="10" width="120" height="75" fill="url(#tankGrad)" stroke="#1e3a5f" stroke-width="1.5" rx="6"/>
    <ellipse cx="60" cy="10"  rx="60" ry="14" fill="#1a4d6e" stroke="#1e3a5f" stroke-width="2"/>
    <ellipse cx="60" cy="85"  rx="60" ry="14" fill="#0d2137" stroke="#1e3a5f" stroke-width="1.5"/>
    <text x="60" y="52" text-anchor="middle" font-size="13" font-weight="bold" fill="#e8e8f0">DMF</text>
    <text x="60" y="68" text-anchor="middle" font-size="13" font-weight="bold" fill="#e8e8f0">STORAGE</text>
  </g>

  <!-- UF STORAGE TANK (right) -->
  <g transform="translate(740, 300)" filter="url(#shadow)">
    <rect x="0"  y="14" width="130" height="90" fill="url(#tankGrad)" stroke="#1e3a5f" stroke-width="1.5" rx="6"/>
    <ellipse cx="65" cy="14" rx="65" ry="16" fill="#1a4d6e" stroke="#1e3a5f" stroke-width="2"/>
    <ellipse cx="65" cy="104" rx="65" ry="16" fill="#0d2137" stroke="#1e3a5f" stroke-width="1.5"/>
    <text x="65" y="60" text-anchor="middle" font-size="12" font-weight="bold" fill="#e8e8f0">UF STORAGE</text>
    <text x="65" y="76" text-anchor="middle" font-size="12" font-weight="bold" fill="#e8e8f0">TANK</text>
  </g>

  <!-- DRAIN (bottom-right) -->
  <g transform="translate(555, 520)" filter="url(#shadow)">
    <rect x="0" y="8" width="80" height="44" fill="#16213e" stroke="#2a2a4a" stroke-width="1.5" rx="6"/>
    <ellipse cx="40" cy="8"  rx="40" ry="10" fill="#1a1a2e" stroke="#2a2a4a" stroke-width="1.5"/>
    <ellipse cx="40" cy="52" rx="40" ry="10" fill="#0f0f1a" stroke="#2a2a4a" stroke-width="1.5"/>
    <text x="40" y="33" text-anchor="middle" font-size="13" font-weight="bold" fill="#7f8c9b">DRAIN</text>
  </g>

  <!-- ╔══════════════════════╗ -->
  <!-- ║   PUMPS              ║ -->
  <!-- ╚══════════════════════╝ -->

  <!-- PP1 Motor (bottom-left, feeding DMF → system) -->
  <g transform="translate(32, 432)" filter="url(#shadow)">
    <!-- Motor housing (cylinder side view) -->
    <rect x="0" y="0" width="65" height="38" fill="url(#pumpGrad)" stroke="#2a5a9a" stroke-width="2" rx="6"/>
    <!-- Fins -->
    <line x1="14" y1="2" x2="14" y2="36" stroke="#1e3a5f" stroke-width="2"/>
    <line x1="24" y1="2" x2="24" y2="36" stroke="#1e3a5f" stroke-width="2"/>
    <line x1="34" y1="2" x2="34" y2="36" stroke="#1e3a5f" stroke-width="2"/>
    <line x1="44" y1="2" x2="44" y2="36" stroke="#1e3a5f" stroke-width="2"/>
    <!-- Pump head -->
    <circle cx="70" cy="19" r="14" fill="#16213e" stroke="#2a5a9a" stroke-width="2"/>
    <circle cx="70" cy="19" r="7"  fill="#00d2ff" opacity="0.3"/>
    <circle cx="70" cy="19" r="3"  fill="#00d2ff"/>
    <!-- Label -->
    <text x="32" y="-8" text-anchor="middle" font-size="13" font-weight="bold" fill="#e8e8f0">PP1</text>
  </g>

  <!-- PP2 Motor (right side, backwash) -->
  <g transform="translate(750, 250)" filter="url(#shadow)">
    <rect x="0" y="0" width="60" height="34" fill="url(#pumpGrad)" stroke="#2a5a9a" stroke-width="2" rx="6"/>
    <line x1="12" y1="2" x2="12" y2="32" stroke="#1e3a5f" stroke-width="2"/>
    <line x1="22" y1="2" x2="22" y2="32" stroke="#1e3a5f" stroke-width="2"/>
    <line x1="32" y1="2" x2="32" y2="32" stroke="#1e3a5f" stroke-width="2"/>
    <line x1="42" y1="2" x2="42" y2="32" stroke="#1e3a5f" stroke-width="2"/>
    <circle cx="65" cy="17" r="12" fill="#16213e" stroke="#2a5a9a" stroke-width="2"/>
    <circle cx="65" cy="17" r="6"  fill="#00d2ff" opacity="0.3"/>
    <circle cx="65" cy="17" r="2.5" fill="#00d2ff"/>
    <text x="30" y="-8" text-anchor="middle" font-size="13" font-weight="bold" fill="#e8e8f0">PP2</text>
  </g>

  <!-- ╔══════════════════════╗ -->
  <!-- ║   VALVES (V1 – V5)  ║ -->
  <!-- ╚══════════════════════╝ -->

  <!-- Valve helper macro: square body with internal arrow  -->
  <!-- V1 — bottom horizontal, between PP1-side and UF inlet -->
  <g transform="translate(312, 438)">
    <rect x="0" y="0" width="30" height="26" fill="#1e3a5f" stroke="#00d2ff" stroke-width="2" rx="3"/>
    <polygon points="5,4 25,13 5,22" fill="#00d2ff" opacity="0.7"/>
    <text x="15" y="-7" text-anchor="middle" font-size="14" font-weight="bold" fill="#e8e8f0">V1</text>
  </g>

  <!-- V2 — vertical left leg (going up from feed to top manifold) -->
  <g transform="translate(205, 290)">
    <rect x="0" y="0" width="26" height="30" fill="#1e3a5f" stroke="#00d2ff" stroke-width="2" rx="3"/>
    <polygon points="4,25 13,5 22,25" fill="#00d2ff" opacity="0.7"/>
    <text x="-18" y="18" text-anchor="middle" font-size="14" font-weight="bold" fill="#e8e8f0">V2</text>
  </g>

  <!-- V3 — bottom horizontal, drain side -->
  <g transform="translate(560, 438)">
    <rect x="0" y="0" width="30" height="26" fill="#1e3a5f" stroke="#00d2ff" stroke-width="2" rx="3"/>
    <polygon points="5,4 25,13 5,22" fill="#00d2ff" opacity="0.7"/>
    <text x="15" y="-7" text-anchor="middle" font-size="14" font-weight="bold" fill="#e8e8f0">V3</text>
  </g>

  <!-- V4 — vertical right leg (going up from bottom to top manifold, right side) -->
  <g transform="translate(648, 338)">
    <rect x="0" y="0" width="26" height="30" fill="#1e3a5f" stroke="#00d2ff" stroke-width="2" rx="3"/>
    <polygon points="4,25 13,5 22,25" fill="#00d2ff" opacity="0.7"/>
    <text x="32" y="20" text-anchor="start" font-size="14" font-weight="bold" fill="#e8e8f0">V4</text>
  </g>

  <!-- V5 — top manifold, going right to storage line -->
  <g transform="translate(588, 170)">
    <rect x="0" y="0" width="30" height="26" fill="#1e3560" stroke="#00d2ff" stroke-width="2.5" rx="3"/>
    <polygon points="5,4 25,13 5,22" fill="#00d2ff" opacity="0.9"/>
    <text x="15" y="-8" text-anchor="middle" font-size="15" font-weight="bold" fill="#e8e8f0">V5</text>
    <!-- Arrow head on right side of V5 -->
    <polygon points="30,8 42,13 30,18" fill="#00d2ff" opacity="0.9"/>
  </g>

  <!-- ╔══════════════════════╗ -->
  <!-- ║   LABELS & LEGEND    ║ -->
  <!-- ╚══════════════════════╝ -->

  <!-- Footer info -->
  <line x1="42" y1="560" x2="858" y2="560" stroke="#2a2a4a" stroke-width="1"/>
  <text x="450" y="574" text-anchor="middle" font-size="11" fill="#7f8c9b">Process Flow Diagram  ·  Raj Enterprices  ·  Version 1.0</text>

</svg>
